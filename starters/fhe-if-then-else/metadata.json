{
  "name": "fhe-if-then-else",
  "contract_name": "FHEIfThenElse",
  "contract_filename": "FHEIfThenElse.sol",
  "label": "fhe-if-then-else",
  "description": "Demonstrates selecting the maximum encrypted uint8 value using FHE comparisons.",
  "version": "1.0.0",
  "fhevm_version": "0.9.1",
  "category": "fundamental",
  "concepts": [
    "FHE.ge",
    "FHE.select",
    "FHE.fromExternal",
    "FHE.allow",
    "FHE.allowThis"
  ],
  "chapter": "basics",
  "has_ui": false,
  "authors": [
    {
      "name": "Zama Team"
    }
  ],
  "state_variables": [
    {
      "name": "_a",
      "type": "euint8",
      "visibility": "private",
      "dev": "Stored as euint8 after verification via FHE.fromExternal."
    },
    {
      "name": "_b",
      "type": "euint8",
      "visibility": "private",
      "dev": "Stored as euint8 after verification via FHE.fromExternal."
    },
    {
      "name": "_max",
      "type": "euint8",
      "visibility": "private",
      "dev": "Calculated via computeMax() using combination of FHE.ge and FHE.select."
    }
  ],
  "functions": [
    {
      "name": "setA",
      "signature": "setA(externalEuint8 inputA, bytes calldata inputProof)",
      "visibility": "external",
      "notice": "Stores encrypted operand A using the provided proof.",
      "params": [
        {
          "name": "inputA",
          "type": "",
          "description": "External ciphertext of type euint8 generated off-chain."
        },
        {
          "name": "inputProof",
          "type": "",
          "description": "Encrypted input proof included with the ciphertext."
        }
      ]
    },
    {
      "name": "setB",
      "signature": "setB(externalEuint8 inputB, bytes calldata inputProof)",
      "visibility": "external",
      "notice": "Stores encrypted operand B using the provided proof.",
      "params": [
        {
          "name": "inputB",
          "type": "",
          "description": "External ciphertext of type euint8 generated off-chain."
        },
        {
          "name": "inputProof",
          "type": "",
          "description": "Encrypted input proof included with the ciphertext."
        }
      ]
    },
    {
      "name": "computeMax",
      "signature": "computeMax()",
      "visibility": "external",
      "notice": "Computes the encrypted maximum value between A and B and grants decryption permission to the caller.",
      "dev": "Uses FHE.ge for comparison and FHE.select to choose the largest value before permissions are granted."
    },
    {
      "name": "result",
      "signature": "result() returns (euint8)",
      "visibility": "public",
      "state_mutability": "view",
      "notice": "Returns the stored encrypted maximum value.",
      "returns": [
        {
          "name": "Encrypted",
          "type": "",
          "description": "maximum value between operand A and B."
        }
      ]
    }
  ]
}